.envelope {
  --envelope-width: 300px;
  --envelope-height: 400px;
  --top-height: 50px;

  width: var(--envelope-width);
  height: var(--envelope-height);

  position: absolute;
  top: calc(50% - var(--envelope-height) / 2);
  left: calc(50% - var(--envelope-width) / 2);

  transform-style: preserve-3d;
  transform: rotateY(180deg);
  transition:
    transform 500ms,
    top 600ms 1200ms;

  will-change: transform;

  &--open {
    transform: rotateY(0deg);
    top: calc(50% + 200px);
  }

  &:hover {
    cursor: pointer;
  }

  &__cover-front {
    position: absolute;
    width: 100%;
    height: 100%;

    background-color: var(--pink);
    backface-visibility: hidden;

    &--inside {
      transform: rotateY(180deg);
      background-color: var(--red);
    }
  }

  &__cover-back {
    position: absolute;
    width: 100%;
    height: 100%;

    background-color: var(--red);

    clip-path: polygon(
      0 0,
      var(--top-height) var(--top-height),
      calc(100% - var(--top-height)) var(--top-height),
      100% 0,
      100% 100%,
      0 100%
    );
  }

  &__top {
    position: absolute;
    width: 100%;
    height: var(--top-height);

    transform-origin: top center;
    transform-style: preserve-3d;

    transition: transform 500ms;
    transition-delay: 600ms;

    will-change: transform;

    &--open {
      transform: rotateX(180deg);
    }
  }

  &__top-cover {
    position: absolute;
    width: 100%;
    height: 100%;

    background-color: var(--red);
    backface-visibility: hidden;

    clip-path: polygon(
      0 0,
      100% 0,
      calc(100% - var(--top-height)) 100%,
      var(--top-height) 100%
    );

    &--inside {
      background-color: var(--pink);
      transform: rotateX(180deg) rotate(180deg);
    }
  }
}
